<style>
.startup-detail-section{
	margin: 5px;
	width: 470px;
}

.permission {
	font-size: x-small;
	color: grey;
}

.startup-card-head {
	padding-left: 8px;
	padding-right: 8px;
	padding-top: 0px;
	padding-bottom: 0px;
}
.small-page-section{
	padding-left: 8px;
	padding-right: 8px;
	padding-top: 4px;
	padding-bottom: 0px;
}
.startup-info-input-rtl >label {
	right: 20px !important;
	-webkit-transform-origin: right top !important;
    transform-origin: right top !important;
    padding-left: 0px !important;
    padding-right: 3px !important;
}
.startup-info-input-ltr >label {
	left: 7 !important;
}
.checkbox-hebrew>.md-container {
	left: auto;
	right: 8;
}

.checkbox-hebrew>.md-label {
	margin-left: 0px;
	margin-right: 30px;
}

.user-subheader {
	font-size: x-small;
}

.fab-action-buttons {
	max-height: 1300px;
	overflow: hidden;
	position: absolute;
	z-index: 25;
	-webkit-transition: 0.75s cubic-bezier(0.35, 0, 0.25, 1);
	-webkit-transition-property: max-height;
	-moz-transition: 0.75s cubic-bezier(0.35, 0, 0.25, 1);
	-moz-transition-property: max-height;
	transition: 0.75s cubic-bezier(0.35, 0, 0.25, 1);
	transition-property: max-height;
}
.fab-action-buttons.ng-hide{
	max-height: 0px;
}
.fab-action-buttons-rtl {
	left: 24px;
}
.fab-action-buttons-ltr {
	right: 24px;
}
.startup-detail-icon{
	height: 55px;
	width: 55px;
	border-radius: 28px;
	border-width: 1px;
    border-style: solid;
    border-color: rgb(160,195,215);
}
.small-startup-detail-icon{
	height: 38px;
	width: 38px;
	border-radius: 20px;
	border-width: 1px;
    border-style: solid;
    border-color: rgb(160,195,215);
}
.top-section {
	padding-left: 8px !important;
	padding-right: 8px !important;
	padding-top: 0px !important;
	padding-bottom: 0px !important;
}
.main-startup-content{
	padding-left: 8px !important;
	padding-right: 8px !important;
	padding-top: 0px !important;
	padding-bottom: 9px !important;
}
md-tab-item>span{
	text-transform: none !important;
}
.number-circle {
	height: 40px;
	width: 40px;
	font-size: small;
}
</style>
<section ng-if='progressMode != ""' flex layout="column" layout-align="center center">
	<div>
    	<md-progress-circular class="md-hue-1" md-mode="{{progressMode}}" md-diameter="120"></md-progress-circular>
	</div>
</section>
<section flex ng-if="selectedStartup && progressMode == ''" layout="column" layout-padding ng-class="(isSmallDevice()) ? 'small-page-section' : ''">
	<section flex="none" class="top-section">
		<div class="startup-card-head" layout="row" layout-align="start center">
			<md-button
				hide-xs
				hide-sm
				hide-md
				aria-label="logo-button"
				ng-click="changeLogo($event)"
				ng-style="(globalAttr.direction == 'rtl') ? {'margin-left': '15px', 'margin-right': '0px'} : {'margin-right': '15px', 'margin-left': '0px'}">
				<md-icon
					ng-if="(selectedStartup.logo == null || selectedStartup.logo =='')"
					class="material-icons">
					start_rate
				</md-icon>
				<img 
					ng-if="(selectedStartup.logo != null && selectedStartup.logo !='')" class="startup-detail-icon" ng-src="{{selectedStartup.logo}}"/>
			</md-button>
			<md-button
				hide-gt-md
				aria-label="logo-button"
				ng-click="changeLogo($event)"
				ng-style="(globalAttr.direction == 'rtl') ? {'margin-left': '15px', 'margin-right': '0px'} : {'margin-right': '15px', 'margin-left': '0px'}">
				<md-icon
					ng-if="(selectedStartup.logo == null || selectedStartup.logo =='')"
					class="material-icons">
					start_rate
				</md-icon>
				<img 
					ng-if="(selectedStartup.logo != null && selectedStartup.logo !='')" class="small-startup-detail-icon" ng-src="{{selectedStartup.logo}}"/>
			</md-button>
			<div layout="column" layout-align="center start">
				<span hide-xs hide-sm hide-md class="md-title">{{selectedStartup.startupName}}</span>
				<span hide-gt-md hide-xs class="md-subheader">{{selectedStartup.startupName}}</span>
				<span hide-xs hide-sm hide-md class="md-subheader user-subheader">{{startupGeneralAttributes.sector + ': ' + (selectedStartup.sector == null ? '' : selectedStartup.sector)}}</span> 
				<span hide-xs hide-sm hide-md class="md-subheader user-subheader">{{startupGeneralAttributes.address + ': ' + (selectedStartup.address == null ? '' : selectedStartup.address)}}</span>
				<span hide-xs hide-sm hide-md class="md-subheader user-subheader">{{startupGeneralAttributes.officePhone + ': ' + (selectedStartup.officePhone == null ? '' : selectedStartup.officePhone)}}</span>
				<span hide-xs class="md-subheader user-subheader"><a href="{{selectedStartup.site}}">{{startupGeneralAttributes.site + ': ' + (selectedStartup.site == null ? '' : selectedStartup.site)}}</a></span>
			</div>
			<span flex></span>
			<div
				layout-align="center center"
				layout="column"
				ng-if="(getFinalScore(selectedStartup) != '')"
				ng-style="(globalAttr.direction == 'rtl') ? 
				{'margin-left': '15px', 'margin-right': '0px','background-color': getMeasurementColor(selectedStartup), 'border-width': '1px', 'border-style': 'solid', 'border-radius': '50%', 'padding': '7px', 'border-color': '#6792AB'}
				: {'margin-right': '15px', 'margin-left': '0px','background-color': getMeasurementColor(selectedStartup), 'border-width': '1px', 'border-style': 'solid', 'border-radius': '50%', 'padding': '7px', 'border-color': '#6792AB'}"
				class="number-circle">
				<span style="margin: 0px;">{{getFinalScore(selectedStartup)}}</span>
			</div>
			<div>
				<div layout="column" layout-align="center center">
					<md-button ng-blur="toggleMainFab($event, true)"
						aria-label="menu" class="md-fab md-mini" ng-click="toggleMainFab($event)">
						<md-icon aria-label="Menu" class="material-icons">more_vert</md-icon> 
					</md-button>
					<div class="fab-action-buttons" layout="column" ng-hide="!isMainFabOpen" ng-class="(globalAttr.direction == 'rtl') ? 'fab-action-buttons-rtl': 'fab-action-buttons-ltr'">
						<md-button aria-label="Twitter" class="md-fab md-raised md-mini" 
							ng-click="saveChanges()">
							<md-icon class="material-icons">save</md-icon>
							<md-tooltip md-direction="{{(globalAttr.direction == 'rtl') ? 'right' : 'left'}}">
         						{{lang.saveStartup}}
    						</md-tooltip>
						</md-button>
						<md-button aria-label="Twitter" class="md-fab md-raised md-mini" 
							ng-click="addNewContact()">
							<md-icon class="material-icons">person_add</md-icon>
							<md-tooltip md-direction="{{(globalAttr.direction == 'rtl') ? 'right' : 'left'}}">
         						{{lang.addContact}}
    						</md-tooltip>
						</md-button> 
						<md-button aria-label="Twitter" class="md-fab md-raised md-mini" 
							ng-click="addNewScoreCard()">
							<md-icon class="material-icons">assignment</md-icon>
							<md-tooltip md-direction="{{(globalAttr.direction == 'rtl') ? 'right' : 'left'}}">
         						{{lang.addScoreCard}}
    						</md-tooltip>
						</md-button>
						<md-button 
							aria-label="Twitter" class="md-fab md-raised md-mini" 
							ng-click="exportScoreCard($event, 'pdf')">
							<md-icon 
								class="material-icons" 
								ng-style="(selectedStartup.scoreCards.length <= 0) ? {'color' : 'rgba(127, 135, 159, 0.5)'} : {}">
								picture_as_pdf
							</md-icon>
							<md-tooltip md-direction="{{(globalAttr.direction == 'rtl') ? 'right' : 'left'}}">
         						{{lang.exportScoreCardReport}}
    						</md-tooltip>
						</md-button> 
						<md-button 
							aria-label="Twitter" class="md-fab md-raised md-mini" 
							ng-click="exportScoreCard($event, 'email')">
							<md-icon 
								class="material-icons" 
								ng-style="(selectedStartup.scoreCards.length <= 0) ? {'color' : 'rgba(127, 135, 159, 0.5)'} : {}">
								email
							</md-icon>
							<md-tooltip md-direction="{{(globalAttr.direction == 'rtl') ? 'right' : 'left'}}">
         						{{lang.emailScoreCardReport}}
    						</md-tooltip>
						</md-button>   
					</div>
				</div>
			</div>
		</div>
	</section>
	<md-tabs  flex class="main-startup-content" 
		md-border-bottom
		md-swipe-content="true"
		md-selected="tabs.selectedTab"> 
		<md-tab flex label="{{lang.mainInfo}}">
				<section layout="row" layout-padding layout-wrap layout-align="center stretch">
					<md-whiteframe class="md-whiteframe-1dp startup-detail-section"
						flex="nogrow" layout-padding layout="column"> 
						<span class="md-headline">{{lang.generalInfo}}</span>
						<div layout="row" layout-padding layout-wrap layout-align="center center">
							<md-input-container ng-repeat="(attr, value) in startupGeneralAttributes" ng-class="(globalAttr.direction == 'rtl') ? 'startup-info-input-rtl' : 'startup-info-input-ltr'"> 
								<label>{{value}}</label>
								<textarea ng-model="selectedStartup[attr]" md-select-on-focus></textarea> 
							</md-input-container>
						</div>
					</md-whiteframe>
					<md-whiteframe class="md-whiteframe-1dp startup-detail-section"
						flex="nogrow" layout-padding layout="column"> 
						<span class="md-headline">{{lang.generalFinancials}}</span>
						<div layout="row" layout-padding layout-wrap layout-align="center center">
							<md-input-container ng-repeat="(attr, value) in startupGeneralFinancials" ng-class="(globalAttr.direction == 'rtl') ? 'startup-info-input-rtl' : 'startup-info-input-ltr'"> 
								<label>{{value}}</label>
								<textarea ng-model="selectedStartup[attr]" md-select-on-focus></textarea> 
							</md-input-container>
						</div>
					</md-whiteframe>
					<md-whiteframe class="md-whiteframe-1dp startup-detail-section"
						flex="nogrow" layout-padding layout="column"> 
						<span class="md-headline">{{lang.miscellaneous}}</span>
						<div layout-padding layout="row">
							<md-input-container flex ng-class="(globalAttr.direction == 'rtl') ? 'startup-info-input-rtl' : 'startup-info-input-ltr'"> 
								<textarea aria-label="miscellaneous-text" ng-model="selectedStartup.miscellaneous" md-select-on-focus></textarea>
							</md-input-container>
						</div>
					</md-whiteframe>
				</section>
		</md-tab>
		<md-tab label="{{lang.contacts}}">
			<izmus-startup-contacts
				selected-startup='selectedStartup'>
			</izmus-startup-contacts>
		</md-tab>
		<md-tab label="{{lang.additionalDocuments}}">
			<izmus-startup-additional-documents
				selected-startup='selectedStartup'>
			</izmus-startup-additional-documents>
		</md-tab>
		<md-tab ng-repeat="scoreCard in selectedStartup.scoreCards">
			<md-tab-label>
    			<div flex layout-align="center center" layout="column">
	    			<span class="progress-text">{{lang.scoreCard + ' ' + (scoreCard.scoreCardDate | date:'dd/MM/yy')}}</span>
					<md-progress-linear md-mode="determinate" value="{{scoreCardProgress(scoreCard)}}"></md-progress-linear>
				</div>
  			</md-tab-label>
  			<md-tab-body>
				<izmus-startup-scorecard
					score-card='scoreCard'
					selected-startup='selectedStartup'>
				</izmus-startup-scorecard>
			</md-tab-body>
		</md-tab>
	</md-tabs>
</section>
